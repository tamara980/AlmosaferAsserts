import java.time.Duration;
import java.util.List;
import java.util.Random;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.Assert;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

public class AddReview {

	WebDriver driver= new ChromeDriver();
	Random rand = new Random();
	String password = "Tamara12345#12111";
	String Email=" ";
	
	@BeforeTest
	public void setup() {
		driver.get("https://magento.softwaretestingboard.com/");
		driver.manage().window().maximize();
		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(3));
	}
	
	@Test (priority=1)
	public void CreateAccount() {

		WebElement createAccount3 = driver.findElement(By.linkText("Create an Account"));
		createAccount3.click();

		String[] firstNames = { "John", "Jane", "Michael", "Emily", "David", "Sarah", "Robert", "Jessica", "Daniel","Laura" };
		String[] LastNames = { "Smith", "Johnson", "Williams", "Jones", "Brown", "Davis", "Miller", "Wilson", "Moore","Taylor" };

		//rand.nextInt(7);
		//System.out.println(rand.nextInt(7));
		int firstNameNO= rand.nextInt(firstNames.length);
		int lastNameNO= rand.nextInt(LastNames.length);
		System.out.println(firstNameNO);
		System.out.println(lastNameNO);
		
		WebElement fillFirstName= driver.findElement(By.id("firstname"));
		fillFirstName.sendKeys(firstNames[firstNameNO]);
		WebElement fillLastName= driver.findElement(By.name("lastname"));
		fillLastName.sendKeys(LastNames[lastNameNO]);
		WebElement fillEmail= driver.findElement(By.id("email_address"));
		//int randoomNumber= rand.nextInt(7532);
		String Domain2= "@gmail.com";
		int randomNumburForEmail= rand.nextInt(7532);
		fillEmail.sendKeys(firstNames[firstNameNO]+LastNames[lastNameNO]+randomNumburForEmail+Domain2);
		Email= firstNames[firstNameNO]+LastNames[lastNameNO]+randomNumburForEmail+Domain2; 
	
		
		WebElement passwordField= driver.findElement(By.id("password"));
		WebElement confirmPasswordField= driver.findElement(By.id("password-confirmation"));
		WebElement submitButton= driver.findElement(By.xpath("//button[@title='Create an Account']"));
		
		passwordField.sendKeys(password);
		confirmPasswordField.sendKeys(password);
		submitButton.click();
		
		
		//WebElement assertForSuccessMessage= driver.findElement(By.className("message-success"));
		//Another way
		WebElement assertForSuccessMessage= driver.findElement(By.cssSelector(".message-success.success.message"));
		Assert.assertEquals(assertForSuccessMessage.getText().contains("Thank you for registering with Main Website Store."), true);
		
		//Another Way
		
		String ActualResul=assertForSuccessMessage.getText();
		String ExpectedResult= "Thank you for registering with Main Website Store.";
		Assert.assertEquals(ActualResul, ExpectedResult);
	}
	
	@Test(priority= 2)
	public void WomanList() {
		WebElement womanListClicking = driver.findElement(By.cssSelector("#ui-id-4"));
		womanListClicking.click();
		
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	//@Test (priority= 3)
	//public void container() throws InterruptedException{
		//WebElement ContainersList = driver.findElement(By.className("product-items"));
		//List <WebElement> itemsOFproduct= ContainersList.findElements(By.className("product-item"));
	    //Another way
		//List <WebElement> itemsOFproducts= ContainersList.findElements(By.tagName("li"));
		//int count = itemsOFproduct.size();
		//System.out.println("Items sum. = "+count);
	//	int randIndex = rand.nextInt(count);
		//System.out.println("Index number of items= "+ randIndex);
		//WebElement RandomItem= itemsOFproduct.get(randIndex);
		//RandomItem.click();	
//}
	//@Test (priority= 4)
	//public void review() throws InterruptedException {
		//WebElement reviewTab= driver.findElement(By.className("data"));
		//WebElement reviewTab= driver.findElement(By.cssSelector("#tab-label-reviews-title"));
		//reviewTab.click();
	//	Thread.sleep(3000);
//		driver.close();
		
//	}	
//	@Test (priority= 5)
//	public void addReview() {
		
		
		
//	}



}
